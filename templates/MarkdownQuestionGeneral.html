<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:define-macro="layout">
<head>
    <meta charset="UTF-8" name=viewport content='width=500'>
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>-->
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>

    <script type="text/x-mathjax-config">
MathJax.Hub.Config({ "HTML-CSS": { scale: 200 }, TeX: { extensions: ["autobold.js", "AMSsymbols.js"] } });
    </script>

    <script type="text/javascript"
    src="{{ url_for('static', filename='js/MathJax.js', config='TeX-AMS-MML_HTMLorMML') }}">
    </script>
    {% if QuestionData['Type'] in ['Tarsia'] %}
      <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <style>
  #sortable { list-style-type: none; margin: 0; padding: 0; width: 450px; }
    #sortable li { margin: 3px 3px 3px 0; padding: 1px; float: left; width: 100px; height: 90px; font-size: 4em; text-align: center; }
      </style>
      <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
      <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $( function() {
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
  } );
  </script>
    {% endif %}
    <script>
    window.onload = function() {
        var answer_input = document.getElementById("answer");
        answer_input.focus();
    }
    </script>
</head>
<body>
{% block nav %}
{% endblock %}
<main>
<section>
    <div id="nav">
        <ul>
            <li>
                <a href="{{ url_for('assignments') }}">Back to assignments list</a>
            </li>
            {% for item in question_indices %}
            <li>
                <div style="float: left; margin-right: 0.5em;">
                <div>
                <a href="{{ url_for('Assignment', assignment=assignment, q=item[0], i=item[1]) }}">{{ loop.index }}</a>
                </div>
                <div>
                    {{ scores[loop.index0] }}
                </div>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
    <div id="content">
        {% if question_number is not none %}
        {{ question_number }}. {{ QuestionData['Question'] }}
        {% endif %}
        {{ content | safe }}
    </div>
</section>

{% if q is none %}
<form action="{{ url_for('Assignment', assignment=assignment, q='submit') }}" method="post" name="answer_form" autocomplete="off">
    <p>Are you ready to submit this assignment?</p>
    <p><input type="submit" value="Submit"></p>
</form>
{% else %}
{% if QuestionData['Type'] in ['SetUpAndSolveEquationGuided', 'SolveEquationGuided'] %}

<div class="answer_form">
<form action="{{ url_for('Assignment', assignment=assignment, q=q, i=i) }}" method="post" name="answer_form" autocomplete="off">
    {% if QuestionData['Type'] in ['SetUpAndSolveEquationGuided'] %}
    <p>
    <b>Fill in the blanks below to choose your units and define your variables:</b>
    </p>
    {% for quantity in Parameters['quantities'] %}
    <p>
    Let {{ form.equation_form.variables[loop.index0] }} represent the {{ quantity }}.
    </p>
    {% endfor %}
    <p>
    <b>Using the variables you defined, write an equation to represent the situation:</b>
    </p>
    <p>
    <b>Remember:</b> The total = the sum of the parts.<br/>
    <!--
    <b>2.</b> Final amount = Starting amount + how much is gained - how much is lost
    -->
    </p>
    <p>
        {{ form.equation_form.lhs }} =
        {{ form.equation_form.rhs }}
    </p>
    {% endif %}
{% for stepform in form.steps %}
<div class="step">
    <h3>Step {{ loop.index }}</h3>
    What operation are you doing to both sides?<br/>
    (Choose an operation below or choose to simplify both sides):
    <table>
        <tr>

            <th align="left">
                Choose Operation
            </th>
            <th align="left">
                What are you adding, subtracting, multiplying, or dividing by? <br/>(If you are simplifying, then leave this blank.)
            </th>
        </tr>
        <tr>
            <td>
    {{ stepform.operation }}<br/>
            </td>
            <td>
    {{ stepform.operand(style="font-size: 18pt; height: 40px; width:100px;") }}<br/>
            </td>
        </tr>
    </table>
    What will your new equation be after this step?
    {{ stepform.new_equation }}<br/>
</div>
<br/>
{% endfor %}

    {{ form.hidden_tag() }}

    <p><input type="submit" value="Submit"></p>
</form>
</div>
{% else %}
<div class="input">
<div class="answer_form">
    <form action="{{ url_for('Assignment', assignment=assignment, q=q, i=i) }}" method="post" name="answer_form" autocomplete="off">
    {{ form.hidden_tag() }}
{% if QuestionData['Type'] in ['SetOfCoordinatePairs'] %}
    {{ form.set_of_coordinate_pairs(autofocus=true, style="font-size: 18pt; height: 40px; width:640px; ") }}
{% endif %}
{% if QuestionData['Type'] in ['Matching'] %}
<div class="prompts">
{% for prompt in Parameters['prompts'] %}
{{ loop.index }} {{ form.answers[loop.index0]() }} {{ prompt }} <br/>
{% endfor %}
</div>
<div class="answers">
{% for letter,answer in Parameters['answers'].items() %}
{{ letter }}. {{answer}}
{% endfor %}
</div>
<br/>
    <b>{{ message }}</b>

{% endif %}
{% if QuestionData['Type'] in ['InputOutputTable'] %}
<div>
    <table>
        <tr>

            <th align="center">
                x 
            </th>
            <th align="center">
                y
            </th>
        </tr>
{% for coordinate_pair_form in form.coordinate_pair_forms %}
        <tr>
            <td>
    {{ coordinate_pair_form.x(style="font-size: 18pt; height: 40px; width:50px;") }}<br/>
            </td>
            <td>
    {{ coordinate_pair_form.y(style="font-size: 18pt; height: 40px; width:50px;") }}<br/>
            </td>
        </tr>
{% endfor %}
    </table>
</div>
<br/>

<b>{{ message }}</b>
{% endif %}
{% if QuestionData['Type'] in ['CoordinatePairs'] %}
{% for coordinate_pair_form in form.coordinate_pair_forms %}
<div class="step">
    <h3>Object {{ loop.index }}</h3>
    Choose an object and enter its coordinates?<br/>
    <table>
        <tr>

            <th align="left">
                Choose an object
            </th>
            <th align="left">
                What are its coordinates?
            </th>
        </tr>
        <tr>
            <td>
    {{ coordinate_pair_form.object_ }}<br/>
            </td>
            <td>
    {{ coordinate_pair_form.coordinate_pair(style="font-size: 18pt; height: 40px; width:100px;") }}<br/>
            </td>
        </tr>
    </table>
</div>
<br/>
    <b>{{ message }}</b>
{% endfor %}

{% endif %}
{% if QuestionData['Type'] in ['SelectMultiple'] %}
<div class="answer_choices">
    {{ form.answers }}
</div>
{% endif %}
{% if QuestionData['Type'] in ['MCMappingDiagram','MCGraph'] %}
<div class="answer_choices">
{% for subfield in form.options %}
<div class="answer_choice">
        <div style="float: left;">
        {{ subfield }}
        </div>
        <div>
        {{ subfield.label }}
        </div>
</div>
{% endfor %}
{{ form.other }}
</div>
{% endif %}
{% if QuestionData['Type'] in ['RubricScore','MC','ArrowDiagram'] %}
<div class="answer_choices">
{% for subfield in form.options %}
<div class="answer_choice">
        <div style="float: left;">
        {{ subfield }}
        </div>
        <div>
        {{ subfield.label }}
        </div>
</div>
{% endfor %}
{{ form.other }}
</div>
{% endif %}
{% if QuestionData['Type'] in ['GenericEquality', 'Numerical','Simplify', 'Expression','OpenResponse'] %}
<p>
{{ form.answer(autofocus=true, style="font-size: 18pt; height: 40px; width:640px; ") }}
</p>
{% endif %}

    <p><input type="submit" value="Submit"></p>
</form>
</div>
{% endif %}
{% endif %}

<div>
    {% if correct %}
    {% if QuestionData['Type'] == 'SetUpAndSolveEquationGuided' %}
    <div class="ui-content">
            <iframe width="420" height="315" src="https://www.youtube.com/embed/{{ act3_youtube_video_id }}" allowfullscreen ></iframe>
    </div>
    {% endif %}
    {% if QuestionData['Type'] not in ['SetUpAndSolveEquationGuided', 'SolveEquationGuided'] %}
    <p>
    <b>Your answer {{ answer }} is correct!</b>
    </p>
    {% endif %}
    <b>{{ message }}</b>
    {% if NextQuestion %}
    <a href="{{ url_for('Assignment', assignment=assignment, q=NextQuestion['q'], i=NextQuestion['i']) }}" class="button">Next question</a>
    {% else %}
    <a href="{{ url_for('Assignment', assignment=assignment, q='submit') }}" class="button">Submit assignment</a>
    {% endif %}
    {% else %}
    {% if answer and QuestionData['Type'] not in ['SetUpAndSolveEquationGuided', 'SolveEquationGuided']%}
    <p>
    <!--
    -->
    <b>Your answer {{ answer }} is incorrect! Try again!</b>
    </p>
    {% endif %}
    <b>{{ message }}</b>
    {% endif %}
</div>
</div>
</main>
<footer>
</footer>
</body>
</html>
