{% extends "layout.html" %}
{% block title %}Sample presentation{% endblock %}
{% block head %}
  <script type="text/javascript" src="/static/js/games/reveal.js"></script>
  {{ super() }}
  <script>
socket.on('question_data', function(data) {
  container = document.getElementById('question_'+data.graph+"_"+data.node);
  container.innerHTML = data.html; 
});
  </script>
  <link rel="stylesheet" href="/static/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="/static/reveal.js/css/theme/white.css">
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="https://code.jquery.com/jquery-1.4.5.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js">
{% endblock %}
{% block content %}
		<div class="reveal">
			<div class="slides">
				<section>Slide 1</section>
				<section>Slide 2</section>
				<section>
                <div data-role="page">
                	<div data-role="header"></div>
                	<div role="main" class="ui-content">
                      Slide 3<div class="question"><form><!-- { "graph": "task1", "node": "question1" } --></form></div>
                    </div>
                	<div data-role="footer"></div>
                </div>
                </section>
			</div>
		</div>
{% endblock %}
{% block more %}
		<script src="/static/reveal.js/js/reveal.js"></script>
		<script src="/static/reveal.js/plugin/markdown/marked.js"></script>
		<script src="/static/reveal.js/plugin/markdown/markdown.js"></script>
		<script>
Reveal.initialize({
	chalkboard: {
		// optionally load pre-recorded chalkboard drawing from file
		//src: "chalkboard.json",
	},
	anything: [ 
        {
          className: "question", 
          initialize: (function(container, options){ 
              socket.emit('get_question_data', { graph: options.graph, node: options.node });
              container.id = "question_"+options.graph+"_"+options.node;
            }) 
        },
    ],
	dependencies: [
		// ...
		{ src: '/static/reveal.js-plugins/chalkboard/chalkboard.js' },
        { src: '/static/reveal.js-plugins/anything/anything.js' },
		// ...
	],
	keyboard: {
	    67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
	    66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
	    46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
	     8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
	    68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
	    88: function() { RevealChalkboard.colorNext() },	// cycle colors forward when 'x' is pressed
	    89: function() { RevealChalkboard.colorPrev() },	// cycle colors backward when 'y' is pressed
	},
	// ...
    embedded: false,
});
		</script>
{% endblock %}
