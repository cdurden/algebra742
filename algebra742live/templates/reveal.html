{% extends "layout.html" %}
{% block title %}Sample presentation{% endblock %}
{% block head %}
  <script type="text/javascript" src="/static/js/games/reveal.js"></script>
  {{ super() }}
  <script>
socket.on('question_data', function(data) {
  container = document.getElementById('question_'+data.graph+"_"+data.node);
  $(container).find('span[class="question_view"]').innerHTML = data.html; 
  $(container).find('input[name="graph"]').val(data.graph);
  $(container).find('input[name="node"]').val(data.node);
});
  </script>
  <link rel="stylesheet" href="/static/reveal.js/css/reveal.css">
  <link rel="stylesheet" href="/static/reveal.js/css/theme/white.css">
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
{% endblock %}
{% block content %}
		<div class="reveal">
			<div class="slides">
				<section>
                <div class="question" data-role="page">
                	<div data-role="header">
                        <span class="ui-title" />
                        <a data-icon="alert" class="question_completed ui-btn-right">Incomplete</a>
                    </div>
                	<div role="main" class="ui-content">
                        <form><input type="hidden" name="graph"><input type="hidden" name="node"><span class="question_view"><!-- { "graph": "task1", "node": "question1" } --></span><input type="submit" value="Submit"></form>
                    </div>
                	<div data-role="footer"></div>
                </div>
                </section>
			</div>
		</div>
{% endblock %}
{% block more %}
		<script src="/static/reveal.js/js/reveal.js"></script>
		<script src="/static/reveal.js/plugin/markdown/marked.js"></script>
		<script src="/static/reveal.js/plugin/markdown/markdown.js"></script>
		<script>
Reveal.initialize({
    math: {
        mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
        config: 'TeX-AMS_HTML-full', // See http://docs.mathjax.org/en/latest/config-files.html
        // pass other options into `MathJax.Hub.Config()`
        TeX: { Macros: { RR: "{\\bf R}" } }
    },
	chalkboard: {
		// optionally load pre-recorded chalkboard drawing from file
		//src: "chalkboard.json",
	},
	anything: [ 
        {
          className: "question", 
          initialize: (function(container, options){ 
              socket.emit('get_question_data', { graph: options.graph, node: options.node });
              container.id = "question_"+options.graph+"_"+options.node;
            }) 
        },
    ],
	dependencies: [
		// ...
		{ src: '/static/reveal.js-plugins/chalkboard/chalkboard.js' },
        { src: '/static/reveal.js-plugins/anything/anything.js' },
        { src: '/static/reveal.js/plugin/math/math.js', async: true },
		// ...
	],
	keyboard: {
	    67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
	    66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
	    46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
	     8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
	    68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
	    88: function() { RevealChalkboard.colorNext() },	// cycle colors forward when 'x' is pressed
	    89: function() { RevealChalkboard.colorPrev() },	// cycle colors backward when 'y' is pressed
	},
	// ...
    embedded: false,
});
		</script>
{% endblock %}
