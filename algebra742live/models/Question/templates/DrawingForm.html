<div class="literally"></div>
<div class="tools">
  <a id="tool-pencil">pencil</a>
  |
  <a id="tool-eraser">eraser</a>
</div>

<!-- replace window.LC with core build version -->
<script src="{{ url_for('static',filename='js/literallycanvas-0.4.14/js/literallycanvas-core.js') }}"></script>
<script src="{{ url_for('static', filename='js/ResizeSensor.js') }}"></script>

<script>
  function resizeCanvasToDisplaySize(canvas) {
     console.log(canvas);
     // look up the size the canvas is being displayed
     const width = canvas.clientWidth;
     const height = canvas.clientHeight;
  
     // If it's resolution does not match change it
     if (canvas.width !== width || canvas.height !== height) {
       canvas.width = width;
       canvas.height = height;
       return true;
     }
  
     return false;
  }
  $(document).ready(function(){
      var lc = LC.init(document.getElementsByClassName('literally')[0]);
      var canvas = $('.lc-drawing').find('canvas').get(0);
      resizeCanvasToDisplaySize(canvas);
      new ResizeSensor(canvas, function(){ 
          resizeCanvasToDisplaySize(canvas); 
          console.log('content dimension changed');
      });

    <!-- custom UI example... -->
    var tools = [
      {
        name: 'pencil',
        el: document.getElementById('tool-pencil'),
        tool: new LC.tools.Pencil(lc)
      },
      {
        name: 'eraser',
        el: document.getElementById('tool-eraser'),
        tool: new LC.tools.Eraser(lc)
      }
    ];

    var activateTool = function(t) {
        lc.setTool(t.tool);

        tools.forEach(function(t2) {
          if (t == t2) {
            t2.el.style.backgroundColor = 'yellow';
          } else {
            t2.el.style.backgroundColor = 'transparent';
          }
        });
    }

    tools.forEach(function(t) {
      t.el.style.cursor = "pointer";
      t.el.onclick = function(e) {
        e.preventDefault();
        activateTool(t);
      };
    });
    activateTool(tools[0]);
  });
</script>
